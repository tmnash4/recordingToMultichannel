<html>
<head>
  <link rel="shortcut icon" href="#">
  <!-- <script src="/socket.io/socket.io.js"></script> -->
  <script src="socket.io/socket.io.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js" integrity="sha512-jduERlz7En1IUZR54bqzpNI64AbffZWR//KJgF71SJ8D8/liKFZ+s1RxmUmB+bhCnIfzebdZsULwOrbVB5f3nQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body>
<button id="send"> Send To Phone </button>
<button id="play"> Play on Phone</button>

<script>
var socket = io(); 
let myFilez = ["file", "another file", "a third file", "ff"];
// let myFilez1 = [];

socket.on('send-FN', (data) => {
    myFilez = data
    if (myList != updateList) {
      socket.off('send-FN')
      console.log("I can't hear you!")
    }
  })

//   socket.on('send-FN1', (data) => {
//     socket.off('send-FN')
//     myFilez1 = data;
//     myList = updateList1
//     console.log("getting in message back");
//     // setTimeout(() => {
//     //     myFilez1 = data;
//     //     myList = updateList1
//     //     console.log("getting in message back");
//     // },100)
//   })

let myButt1 = document.getElementById("send");
let myButt2 = document.getElementById("play");


myButt1.addEventListener("click", () => {
    socket.emit(
  "load_audio",
   myFilez)
})

myButt2.addEventListener("click", () => {
    socket.emit("play_audio", true)
})

function getRandomInts(count, max) {
  const indices = [];
  while (indices.length < count) {
    const num = Math.floor(Math.random() * max); // Random index
    if (!indices.includes(num)) { // Avoid duplicates
      indices.push(num);
    }
  }
  return indices;
}

// Pick 3 unique random indices
const randomIndices = getRandomInts(3, myFilez.length);

// Emit the selected files



</script>

<style>
    button {
        font-size: 50px;
    }
</style>

</body>
</html>